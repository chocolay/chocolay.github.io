
<!DOCTYPE html>
<html><head><meta charset="utf-8">
<script src="./box2D.js"></script>
<script src="btest.js"></script>
<style>body {-webkit-transform:translateZ(0)}</style>
</head><body>
<canvas id="c0" width="640" height="480" style="border:1px solid black"></canvas>
<p>black dot is the position of the object,the yellow dot is the center of mass.h</p>

<script src = "./box2Dhelper.js"></script>
<script>
var SCALE = 30,null_CENTER = {x:null,y:null}, Nt = 10000, 
ctx = document.getElementById("c0").getContext("2d"),
world = {}, bodiesState = null, box = null;

document.addEventListener("DOMContentLoaded",function() {
init();
(function loop(animStart) {update(animStart); draw(); requestAnimFrame(loop)})()},false);
 

function init() {
for (var i in initialState) {world[i] = Entity.build(initialState[i]);
console.log(i)
}
box = new bTest(60,false,ctx.canvas.width,ctx.canvas.height,SCALE);
box.setBodies(world);
setTimeout(function() {init()},Nt)}


function draw() {
ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);
for (var id in world) {world[id].draw(ctx)}}
var initialState = {"0":{id:0,x:10,y:5,radius:2},
                    "3":{id:3,x:4.5,y:3,points:[{x:0,y:-2},{x:2,y:0},{x:0,y:2},{x:-0.5,y:1.5}]}};


</script></body></html>
